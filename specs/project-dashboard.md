# Spec: Project Dashboard

**Version:** 0.1.0
**Created:** 2026-02-19
**PRD Reference:** docs/prd.md
**Status:** Draft

## 1. Overview

`/add:dashboard` generates a self-contained `reports/dashboard.html` file by reading the project's `.add/` directory, specs, docs, and config. The file opens in the browser and gives anyone — developer, PM, or founder — a real-time picture of the project's state without touching the terminal or reading markdown.

The dashboard is static HTML with all CSS and JavaScript inlined. No server, no backend, no runtime dependencies, no npm, no node. It is git-committable and can be shared as an attachment. Regenerated by running `/add:dashboard` any time the user wants a fresh snapshot.

Visual design matches getadd.dev: dark background (`#0f0f23`), raspberry accent (`#b00149` to `#d4326d`), system fonts, cards with subtle borders, gradient text for headlines, maturity-coded badges.

### User Story

As an ADD project stakeholder (developer, PM, or founder), I want a visual HTML dashboard that shows project health, feature progress, decision queue, and timeline — without needing to read markdown files or use the terminal.

## 2. Acceptance Criteria

| ID | Criterion | Priority |
|----|-----------|----------|
| AC-001 | `/add:dashboard` command registered in `commands/dashboard.md` | Must |
| AC-002 | Command reads `.add/config.json` — abort with clear error if not found | Must |
| AC-003 | Command reads `docs/prd.md`, `specs/*.md`, `.add/cycles/cycle-*.md`, `.add/learnings.json`, `.add/decisions.md`, `CHANGELOG.md` | Must |
| AC-004 | Writes output to `reports/dashboard.html` | Must |
| AC-005 | Output is a single self-contained HTML file — all CSS in `<style>`, all JS in `<script>`, no external CDN calls, no imports | Must |
| AC-006 | File works offline, opens in Chrome/Firefox/Safari without console errors | Must |
| AC-007 | File is under 300KB | Must |
| AC-008 | Visual design matches getadd.dev: dark bg `#0f0f23`, raspberry `#b00149`/`#d4326d`, system fonts `system-ui, -apple-system, 'Segoe UI', sans-serif`, mono `'SF Mono', Monaco, monospace`, cards with `border-radius: 12-16px`, subtle borders `rgba(255,255,255,0.08)` | Must |
| AC-009 | Fixed header bar: ADD logo (crimson bold mono), project name, maturity badge (color-coded pill), "Generated: [timestamp]", 6 nav anchor links, "Run /add:dashboard to regenerate" note | Must |
| AC-010 | **Panel 1 — Outcome Health:** Vertical traceability chain (PRD Requirements → Specs → Acceptance Criteria → Verified) as connected flow diagram. Color by health (green/amber/red). Untraced specs (no PRD mapping) in amber "Potential Scope Additions" callout. SVG donut chart showing overall AC completion % | Must |
| AC-011 | **Panel 2 — Hill Chart:** SVG bell curve with feature dots positioned by status. Dots grouped by milestone with distinct colors from ADD palette. Native browser tooltips showing feature name, status, cycle, AC completion %. Green checkmark on milestones where all features are verified/done | Must |
| AC-012 | **Panel 3 — Cycle Progress:** Active cycle prominently displayed with feature status pills, AC completion bars per feature, WIP count vs WIP limit. Past cycles as collapsed accordion rows with VALIDATED/INCOMPLETE badges | Must |
| AC-013 | **Panel 4 — Decision Queue:** Surfaces every place the human is the bottleneck. Scans for: draft specs needing approval, blocked specs, cycles without validation, untraced specs, maturity upgrade candidates. Each item as a card with action label, item name, description, suggested command | Must |
| AC-014 | **Panel 5 — Project Intelligence:** Large number cards (Learnings Captured, Decisions Logged, Cycles Completed, Specs Shipped). Maturity timeline horizontal track (POC → Alpha → Beta → GA) with current level highlighted. Retro scores trend if `.add/retro-scores.json` exists (line chart of collab/ADD/swarm scores over time) | Must |
| AC-015 | **Panel 6 — Project Timeline:** Chronological view of project milestones, spec completions, version releases, retros, and key decisions plotted on a horizontal timeline. Each event as a dot/card with date, type icon, and description. Filterable by event type (milestone/spec/release/retro/decision) | Must |
| AC-016 | Hill chart feature positions map to status: draft=10%, specced=25%, planned=40%, in-progress=60%, verified=75%, done=90%, blocked=off-hill in amber | Must |
| AC-017 | Maturity badge colors: POC=`#ca8a04`, Alpha=`#b00149`, Beta=`#d4326d`, GA=`#22c55e` | Must |
| AC-018 | Status pill colors: draft=gray, specced=blue, planned=purple, in-progress=raspberry, verified=green, done=green-bold, blocked=amber | Must |
| AC-019 | Print CSS: `@media print` removes nav bar, expands all accordions, white background | Should |
| AC-020 | Every panel handles missing data gracefully — shows helpful empty state with suggested command to run | Should |
| AC-021 | Malformed frontmatter in any source file → skip that file, add to "Parse Warnings" section at bottom | Should |
| AC-022 | Terminal output after generation: summary with spec count, features on hill, decision queue count, active cycle | Should |
| AC-023 | Dark/light mode toggle in header (matching getadd.dev implementation) | Nice |
| AC-024 | Running the command twice on same data produces identical output (deterministic) | Nice |
| AC-025 | Responsive layout — readable on tablet/mobile widths | Nice |

## 3. User Test Cases

### TC-001: Full project dashboard

**Precondition:** ADD project with config, PRD, 5+ specs, 2+ cycles (1 active, 1 complete), learnings, decisions, retro scores
**Steps:**
1. Run `/add:dashboard`
2. Open `reports/dashboard.html` in browser
**Expected Result:** All 6 panels render with real data. Hill chart shows feature dots. Decision queue shows any pending items. Timeline shows chronological events. No console errors.
**Screenshot Checkpoint:** N/A
**Maps to:** TBD

### TC-002: Minimal project (just config and 1 spec)

**Precondition:** ADD project with only config.json and 1 spec file, no cycles, no learnings
**Steps:**
1. Run `/add:dashboard`
2. Open dashboard
**Expected Result:** Panels render with graceful empty states: "No cycles yet — run /add:cycle", "No learnings yet", etc. Hill chart shows 1 dot. Decision queue shows the spec needing cycle assignment.
**Screenshot Checkpoint:** N/A
**Maps to:** TBD

### TC-003: No ADD project

**Precondition:** Directory with no `.add/config.json`
**Steps:**
1. Run `/add:dashboard`
**Expected Result:** Aborts with error: "No ADD project found. Run /add:init first."
**Screenshot Checkpoint:** N/A
**Maps to:** TBD

### TC-004: Decision queue populated

**Precondition:** Project has 2 draft specs, 1 blocked spec, 1 cycle without validation
**Steps:**
1. Run `/add:dashboard`
2. Navigate to Decision Queue panel
**Expected Result:** 4 cards shown: 2 "Approve Spec" cards, 1 "Unblock Feature" card, 1 "Validate Cycle" card. Each has action label, name, description, and suggested command.
**Screenshot Checkpoint:** N/A
**Maps to:** TBD

## 4. Data Model

### Source Files

| File | Location | Required | Data Extracted |
|------|----------|----------|----------------|
| config.json | `.add/config.json` | Yes | Project name, maturity, WIP limit, current cycle |
| PRD | `docs/prd.md` | No | Requirement sections (H2 headings), total count |
| Specs | `specs/*.md` | No | Feature name, status, milestone, cycle, AC count (checked/total) |
| Cycles | `.add/cycles/cycle-*.md` | No | Cycle number, status, features, validation result |
| Learnings | `.add/learnings.json` | No | Entry count, categories |
| Decisions | `.add/decisions.md` | No | Decision count |
| Changelog | `CHANGELOG.md` | No | Shipped items by version |
| Retro scores | `.add/retro-scores.json` | No | Score trend data |
| Retros | `.add/retros/retro-*.md` | No | Retro dates and summaries |
| Milestones | `docs/milestones/*.md` | No | Milestone names, status, feature lists |

### Spec Status Mapping

ADD specs use frontmatter `Status:` field. Map to dashboard positions:

| Spec Status | Dashboard Status | Hill Position |
|-------------|-----------------|---------------|
| Draft | draft | 10% |
| Approved | specced | 25% |
| Implementing | in-progress | 60% |
| Complete | done | 90% |
| Blocked (if present) | blocked | off-hill |

For specs without explicit status, infer from context: has plan = planned (40%), has implementation commits = in-progress (60%).

### Timeline Event Types

| Type | Icon | Color | Source |
|------|------|-------|--------|
| milestone | flag | `#d4326d` | `docs/milestones/*.md` completion dates |
| spec | document | `#0ea5e9` | `specs/*.md` creation/completion dates |
| release | tag | `#22c55e` | git tags, CHANGELOG.md |
| retro | refresh | `#f59e0b` | `.add/retros/retro-*.md` dates |
| decision | gavel | `#a855f7` | `.add/decisions.md` dates |

## 5. API Contract

N/A — this is a CLI command that generates a static file.

## 6. UI Behavior

### Header Bar (fixed)
- ADD logo: "ADD" in `#b00149`, bold monospace, `18px`
- Project name from config
- Maturity pill: color-coded per maturity level
- "Generated: {ISO timestamp}" in muted text `rgba(255,255,255,0.5)`
- 6 nav links: Outcome Health | Hill Chart | Cycle Progress | Decision Queue | Intelligence | Timeline
- Sticky with `backdrop-filter: blur(12px)`, `background: rgba(15,15,35,0.92)`

### Panel Design
- Each panel is a full-width section with `padding: 60px clamp(20px, 4vw, 40px)`
- Max content width: `1200px`, centered
- Section headers: `12px` uppercase eyebrow label in accent-light, `32px` bold heading
- Cards: `background: rgba(255,255,255,0.05)`, `border: 1px solid rgba(255,255,255,0.08)`, `border-radius: 16px`
- Hover: `translateY(-2px)`, shadow `0 10px 30px rgba(0,0,0,0.1)`

### SVG Hill Chart
- Cubic bezier bell curve path
- Feature dots as `<circle>` elements with `<title>` for native tooltips
- Dot radius: `8px`, stroke: `2px` white
- Milestone grouping via color: cycle through `#b00149`, `#0ea5e9`, `#a855f7`, `#22c55e`, `#f59e0b`
- Blocked features: amber dots below the hill with dashed connecting line

### SVG Donut Chart
- Pure SVG with `stroke-dasharray` technique
- Size: `120px` diameter
- Track: `rgba(255,255,255,0.1)`
- Fill: `#22c55e` (completion), `#b00149` (remaining)
- Center text: percentage in bold

### Retro Scores Trend (Panel 5)
- Simple SVG line chart
- 3 lines: collab (blue), ADD effectiveness (raspberry), swarm (green)
- X-axis: dates, Y-axis: 0.0-9.0
- Dots on data points with tooltips

## 7. Edge Cases

| Case | Expected Behavior |
|------|-------------------|
| No `.add/config.json` | Abort with "No ADD project found. Run /add:init first." |
| No specs directory | Panel 1/2 show empty state with /add:spec suggestion |
| No cycles directory | Panel 3 shows "No cycles yet — run /add:cycle" |
| No PRD | Panel 1 skips PRD layer in traceability chain |
| No learnings.json | Panel 5 shows 0 learnings count |
| No retro-scores.json | Panel 5 skips trend chart |
| Spec with malformed frontmatter | Skip spec, add to Parse Warnings section |
| No decisions.md | Panel 5 shows 0 decisions count |
| No milestones | Panel 6 timeline shows only spec/release/retro events |
| All specs done | Hill chart shows all dots on right side, green badges on milestones |
| Decision queue empty | Green "All clear — no decisions pending" state |
| Very long project name | Truncate in header with ellipsis |

## 8. Dependencies

- `.add/config.json` — required, all other files optional
- `rules/design-system.md` — raspberry palette and brand guidelines
- `website/css/style.css` — design reference for getadd.dev visual consistency
- Existing `reports/add-overview.html` — output location precedent

## 9. Revision History

| Date | Version | Author | Changes |
|------|---------|--------|---------|
| 2026-02-19 | 0.1.0 | abrooke + Claude | Initial spec from planning session |
